---
title: Populating and Printing the Data
sidebar:
    label: " - Populate and Print"
---
import { Accordion, AccordionItem } from 'accessible-astro-components'

With the plan in place, we can now start to code this up. In this section we can look at initializing our `dynamic_array`, and coding the `populate_array` and `print` procedures with a basic `main` to coordinate these. These will allow us to read the data in from the user, and then display the data entered to make sure it works.

## Create your project

We can get this going pretty quickly by:

1. Work out where you are going to save this project, create the folder if needed, and open it in VS Code.
2. Create a new **stats-calc.cpp** code file.
3. Copy in your *utilities.h* and *utilities.cpp* files from the [shared utilities](/book/part-2-organised-code/1-structuring-code/3-guided-tour/04-00-utilities) activity. This will contain the `read_integer` and `read_double` functions we need. If either of these are missing, you should code them in your utilities files.
4. Add the following code to your **stats-calc.cpp** file to kick things off:

```cpp
/* stats-calc.cpp - from the field guide. written by ... */

#include "splashkit.h"

//todo: add populate_array here
//todo: add print here
//todo: add max here
//todo: add sum here
//todo: add mean here

int main()
{
  //todo: create variable here to manage data
  //todo: populate and print input
  return 0;
}
```

## Declare a `dynamic_array`

Let's start simple - we'll declare a variable that we can store our data inside. We know we'll use a `dynamic_array`, so make sure to include the `"splashkit-arrays.h"` header.

We also need to consider what data type to store inside it. In our case, we want the user to be able to enter integers and real numbers (such as `1.27`) as well, so let's use `double`.

Have a go at coding this now. If you get stuck you can check the solution below, but try it on your own first!

<Accordion>
  <AccordionItem
    header="Code for the struct"
  >

The resulting code should look something like this:

```cpp {4, 14}
/* stats-calc.cpp - from the field guide. written by ... */

#include "splashkit.h"
#include "splashkit-arrays.h"

//todo: add populate_array here
//todo: add print here
//todo: add max here
//todo: add sum here
//todo: add mean here

int main()
{
  dynamic_array<double> data;
  //todo: populate and print input
  return 0;
}
```

:::caution
If you are having trouble doing this yourself, make sure to go back and review the concepts earlier in this chapter.
:::

  </AccordionItem>
</Accordion>

## Populating the array

Now we have our array ready, we can start to work on the `populate_array` procedure. This will be responsible for reading in the values from the user and storing them in the array. The procedure will need to take the `dynamic_array` by reference, so that it can add values to the array. We can use the `read_integer` and `read_double` functions from the utilities we have created to read in the number of values to store, and to read in each value to store in the array.

```plaintext
Procedure: populate array
-------------------------------
Parameters:
- data (reference to the dynamic array) - the data to sum
Local Variables:
- size (int): the number of values to read in
- i (int): to store the index of the current element in the array
Steps
1. Call read_integer to get the number of values to enter - store in size
2. if size is less than 0
3.      Set size to 0
4. For i. starts at 0 and loops while i < size
5.      call read_double to get the value to add to data
6. Return the result total.
```

The first part of the procedure reads in the number of elements the user wants to populate. We need to make sure that this is not negative - if it is, we can just set it to 0.

Following this, we have the loop to read in values from the user. There are two key things to notice about the pseudocode:

1. The [for loop](/book/part-1-instructions/3-control-flow/5-reference/04-3-for-loop) is used to repeat the loop once for each element to add to the array.
2. Each iteration of the loop, we add a new element to our `dynamic_array`.

Have a go at implementing this yourself. We can then update `main` to call `populate_array` and read in the values from the user. If you get stuck, you can check the solution below.

:::tip

- Don't forget to include the *utilities.h* file, and to compile the *utilities.cpp* file with your program.
- Think through the steps you need to take to implement this.
- Make sure to also think about invalid data that could be entered.
- Use a [for loop](/book/part-2-organised-code/3-working-with-multiples/5-reference/01-00-for-loop) to repeat an action a certain number of times - each iteration, we add an element to the array.

:::

<Accordion>
  <AccordionItem
    header="Code for populate array"
  >

```cpp {5, 7-25, 37}
/* stats-calc.cpp - from the field guide. written by ... */

#include "splashkit.h"
#include "splashkit-arrays.h"
#include "utilities.h"

/**
 * Populate the array with values entered by the user
 *
 * @param data the array of values (passed by reference)
 */
void populate_array(dynamic_array<double> &data)
{
  int size = read_integer("How many values do you want to enter? ");
  if (size < 0)
  {
    size = 0;
  }

  // Populate each element - up to size
  for (int i = 0; i < size; i++)
  {
    add(data, read_double("Enter value: "));
  }
}

//todo: add print here
//todo: add max here
//todo: add sum here
//todo: add mean here

int main()
{
  dynamic_array<double> data;

  //todo: populate and print input
  populate_array(data);

  return 0;
}
```

  </AccordionItem>
</Accordion>

Make sure to compile and test your program. What happens if you ask to enter a negative number of values?

## Printing the data

When you run this, it should accept the values we enter, but we can't see that they are actually stored in the array. So let's fix this by adding the `print` procedure. This will display the values in the array to the user.

This time, we will really see how well arrays and `for` loops work hand-in-hand. We can use a `for` loop to go through *each element* in the array, and print out the element's index and the value stored there.

To aid with looping, the `dynamic_array` remembers how many elements have been added, and we can retrieve this value by using the `int length(const dynamic_array<T>& data)` function.

We can picture the loop looking something like this:
```plaintext
For i. starts at 0 and loops while i < length(data)
    print the value in data at index i
```

Note how the iterator `i` moves through each index of the array - so inside the loop `i` will be the index of the current element being processed. In this case, we print the value of the element.

Have a go at this now yourself.

:::tip

- Use a [for loop](/book/part-2-organised-code/3-working-with-multiples/5-reference/01-00-for-loop) again, but this time to perform the action *for each* element in the array.
- Try to format the output like so:
  ```
  0: 0.9
  1: 2.3
  2: 7
  ...
  ```

:::

<Accordion>
  <AccordionItem
    header="Code for print"
  >

```cpp {27-38, 49}
/* stats-calc.cpp - from the field guide. written by ... */

#include "splashkit.h"
#include "splashkit-arrays.h"
#include "utilities.h"

/**
 * Populate the array with values entered by the user
 *
 * @param data the array of values (passed by reference)
 */
void populate_array(dynamic_array<double> &data)
{
  int size = read_integer("How many values do you want to enter? ");
  if (size < 0)
  {
    size = 0;
  }

  // Populate each element - up to size
  for (int i = 0; i < size; i++)
  {
    add(data, read_double("Enter value: "));
  }
}

/**
 * Output the values in the array
 *
 * @param data the array of values
 */
void print(const dynamic_array<double> &data)
{
  for (int i = 0; i < length(data); i++)
  {
    write_line(to_string(i) + ": " + to_string(data[i]));
  }
}

//todo: add sum here
//todo: add mean here
//todo: add max here

int main()
{
  dynamic_array<double> data;

  populate_array(data);
  print(data);

  return 0;
}
```

  </AccordionItem>
</Accordion>

Test your program, making sure that you can see the values you entered displayed back to you. If you have any issues, check back through the code and make sure you have implemented both `print` and `populate_array` correctly.
