---
title: Adding Data to the Calculator
sidebar:
    label: " - Adding Data"
---
import CodeScroll from '/src/components/CodeScroll.astro'
import { Accordion, AccordionItem } from 'accessible-astro-components'

We can wrap up with program with a couple of final changes. Firstly, we can add in a loop and allow the user to add more data to the array. Then in the final step we can look at also removing values from the array. These will be great features to help us explore arrays.

## Adding a loop into main

If we add a loop to main, after populating the array, we can give the user options to change the values in the array and recalculate the statistics. Have a go at adding a menu to let the user add, remove, and view the data, calculate the statistics, and quit.

This is what I used for this:

<CodeScroll maxHeight="600px">
```cpp {9-17, 22, 26-57}
/* stats-calc.cpp - from the field guide. written by ... */

#include "splashkit.h"
#include "splashkit-arrays.h"
#include "utilities.h"

//...more code here...

void print_menu()
{
  write_line("\nMenu");
  write_line("1. Add a value");
  write_line("2. Remove a value");
  write_line("3. Print the values");
  write_line("4. Calculate stats");
  write_line("5. Quit");
}

int main()
{
  dynamic_array<double> data;
  int option;

  populate_array(data);

  print_menu();
  option = read_integer("Enter an option: ", 1, 5);

  while(option != 5)
  {
    switch(option)
    {
      case 1:
        //todo: add_data(data);
        break;
      case 2:
        //todo: remove_value(data);
        break;
      case 3:
        write_line("\nYou entered...\n");
        print(data);
        break;
      case 4:
        write_line("\nCalculating statistics...\n");

        write_line("Sum:        " + to_string(sum(data), 2));
        write_line("Mean:       " + to_string(mean(data), 2));
        write_line("Max:        " + to_string(max(data), 2));
        break;
    }
    read_string("Press Enter to continue...");

    print_menu();
    option = read_integer("Enter an option: ", 1, 5);
  }

  write_line("Goodbye!");

  return 0;
}
```
</CodeScroll>

## Adding data

As with most of our code, each new action is likely to be coded in a new function or procedure which may in turn need additional functions and procedures to help implement its logic. So, for this we will create an `add_data` procedure.

`Add data` can accept the dynamic array by reference, so that it can add elements to the original array. Then we can just ask the user for a value, and use `add` to add it.

This should be fairly straightforward, have a go at coding this up yourself.

<Accordion>
<AccordionItem header="Code for add data">

```cpp
void add_data(dynamic_array<double> &data)
{
  double value = read_double("Enter a value to add: ");
  add(data, value);
}
```

This _should_ be straightforward at this point. If you were unsure about how this should be done, it would be best to have another read through the chapter - make sure you're trying out the activities on your own, so you become more familiar with the concepts.
</AccordionItem>
</Accordion>

When you have added this in, update main to call this when the user chooses that option.
