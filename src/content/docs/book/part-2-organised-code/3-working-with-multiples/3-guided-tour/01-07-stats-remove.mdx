---
title: Removing Data from the Calculator
sidebar:
    label: " - Removing Data"
---
import { Accordion, AccordionItem } from 'accessible-astro-components'
import Aside from "/src/components/Aside.astro"

Removing a value is one of those deceptively challenging aspects of arrays.

`dynamic_array` makes it simple to remove an element - we just call the `remove(dynamic_array<T>& array, int index)` procedure, pass in the `dynamic_array` and the index to remove, and the element is gone!

But what does it really mean to remove an element? We can't really "remove" memory, can we? We'll explore this in more depth later on, but for now let's have a brief look at what's going on.

The key thing to remember, is that we can't _actually_ remove an element from an array - not even the `dynamic_array`! Instead, the data inside the `dynamic_array` is **moving** around within itself.

Let's visualize this. If we started with an array like so:
|Index|0 |1 |2 |3 |4 |
|-----|--|--|--|--|--|
|Value|1 |6 | 8| 9| 5|

And we _removed_ the `6`, our array looks like:
|Index|0 |1 |2 |3 |
|-----|--|--|--|--|
|Value|1 | 8| 9| 5|

Notice how the `8`, `9`, and `5` have simply moved backwards by one index? This is generally how dynamic arrays actually remove their elements - they move every element backwards You can imagine that if you have a million elements, this might become quite a costly operation!

We'll come back to this when we build our own `dynamic_array` later on. For now, let's go ahead and add a `remove_value` procedure, and enjoy the convenience of the `dynamic_array`'s `remove` ability.

We'll ask the user for an index to remove, then `remove` it. Make sure to _validate_ the index the user provides. Have a think about the _range_ of values that we can delete from - what happens if the user enters an index outside of that range?

<Accordion>
<AccordionItem header="Code for remove">

```cpp
/**
 * Remove a value from the array
 *
 * @param data the array of values
 */
void remove_value(dynamic_array<double> &data)
{
  print(data);

  int index = read_integer("Enter the index of the value to remove: ");

  if (index >= 0 && index < length(data))
  {
    remove(data, index);
  }
  else
  {
    write_line("Sorry, that is not a valid index.");
  }
}
```

</AccordionItem>
</Accordion>

Make sure to test this out before moving on - try entering indexes that don't make sense and see how your program handles it.

## Summary

Remember the point of this exercise has been to work through the actions you can perform with arrays. Things like adding a removing elements work the same regardless of the kind of data stored in the array. Understanding how this works using basic data types now, will mean that you can easily work with other data types going forward.

<Accordion>
<AccordionItem header="Final code">

```cpp
/* stats-calc.cpp - from the field guide. written by ... */

#include "splashkit.h"
#include "splashkit-arrays.h"
#include "utilities.h"

/**
 * Populate the array with values entered by the user
 *
 * @param data the array of values (passed by reference)
 */
void populate_array(dynamic_array<double> &data)
{
  int size = read_integer("How many values do you want to enter? ");
  if (size < 0)
  {
    size = 0;
  }

  // Populate each element - up to size
  for (int i = 0; i < size; i++)
  {
    add(data, read_double("Enter value: "));
  }
}

/**
 * Output the values in the array
 *
 * @param data the array of values
 */
void print(const dynamic_array<double> &data)
{
  for (int i = 0; i < length(data); i++)
  {
    write_line(to_string(i) + ": " + to_string(data[i]));
  }
}

/**
 * Calculate the sum of the values in the array
 *
 * @param data the array of values
 * @return the sum of the values
 */
double sum(const dynamic_array<double> &data)
{
  int i;
  double result = 0;

  for (i = 0; i < length(data); i++)
  {
    result += data[i];
  }

  return result;
}

/**
 * Calculate the mean of the values in the array
 *
 * @param data the array of values
 * @returns the mean of the values
 */
double mean(const dynamic_array<double> &data)
{
  if (length(data) > 0)
    return sum(data) / length(data);
  else
    return 0;
}

/**
 * Calculate the largest value in the array
 *
 * @param data the array of values
 * @returns the largest value, or 0 if there are no values
 */
double max(const dynamic_array<double> &data)
{
  // Ensure there is data
  if (length(data)== 0)
    return 0;

  // Assume the first value is the largest
  double result = data[0];

  // Check the rest of the values
  for (int i = 1; i < length(data); i++)
  {
    if (data[i] > result)
    {
      result = data[i];
    }
  }

  return result;
}


/**
 * Add a value to the array
 *
 * @param data the array of values
 */
void add_data(dynamic_array<double> &data)
{
  double value = read_double("Enter a value to add: ");
  add(data, value);
}

/**
 * Remove a value from the array
 *
 * @param data the array of values
 */
void remove_value(dynamic_array<double> &data)
{
  print(data);

  int index = read_integer("Enter the index of the value to remove: ");

  if (index >= 0 && index < length(data))
  {
    remove(data, index);
  }
  else
  {
    write_line("Sorry, that is not a valid index.");
  }
}

/**
 * Print the menu of options
 */
void print_menu()
{
  write_line("\nMenu");
  write_line("1. Add a value");
  write_line("2. Remove a value");
  write_line("3. Print the values");
  write_line("4. Calculate stats");
  write_line("5. Quit");

}

/**
 * The main entry point
 */
int main()
{
  dynamic_array<double> data;
  int option;

  populate_array(data);

  print_menu();
  option = read_integer("Enter an option: ", 1, 5);

  while(option != 5)
  {
    switch(option)
    {
      case 1:
        add_data(data);
        break;
      case 2:
        remove_value(data);
        break;
      case 3:
        write_line("\nYou entered...\n");
        print(data);
        break;
      case 4:
        write_line("\nCalculating statistics...\n");

        write_line("Sum:        " + to_string(sum(data), 2));
        write_line("Mean:       " + to_string(mean(data), 2));
        write_line("Max:        " + to_string(max(data), 2));
        break;
    }
    read_string("Press Enter to continue...");

    print_menu();
    option = read_integer("Enter an option: ", 1, 5);
  }

  write_line("Goodbye!");

  return 0;
}
```

</AccordionItem>
</Accordion>
