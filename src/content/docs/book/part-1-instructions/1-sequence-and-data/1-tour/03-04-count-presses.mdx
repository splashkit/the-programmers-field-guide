---
title: Step 5 - Counting button presses
sidebar:
  label: "- Counting button presses"
---

import { Accordion, AccordionItem } from "accessible-astro-components";

Now that  you've got multiple button press readings, you will be able to calculate how many times the button was pressed.

1. Calculate the *button press count* by storing the **sum** of the (integer) "reading" variables in a variable for the "count".

    <Accordion>
      <AccordionItem header="Counting button presses calculation">

      ```cs {48-49}
      using SplashKitSDK;
      using static SplashKitSDK.SplashKit;

      // Initialise the GPIO system
      RaspiInit();

      // Define the button pin (using physical Pin 13)
      GpioPin buttonPin = GpioPin.Pin13;

      // Set the button pin to input mode
      RaspiSetMode(buttonPin, GpioPinMode.GpioInput);

      // Set the button pin to use an internal pull-down resistor
      RaspiSetPullUpDown(buttonPin, PullUpDown.PudDown);

      // Define variable for reading button value
      GpioPinValue buttonValue;

      // First button reading
      WriteLine("Button Press - Reading 1:");
      WriteLine("Press Enter to record the button reading.");
      ReadLine();  // Wait for user to press Enter
      buttonValue = RaspiRead(buttonPin);
      int reading1 = ToInt(buttonValue);

      // Second button reading
      WriteLine("Button Press - Reading 2:");
      WriteLine("Press Enter to record the button reading.");
      ReadLine();  // Wait for user to press Enter
      buttonValue = RaspiRead(buttonPin);
      int reading2 = ToInt(buttonValue);

      // Third button reading
      WriteLine("Button Press - Reading 3:");
      WriteLine("Press Enter to record the button reading.");
      ReadLine();  // Wait for user to press Enter
      buttonValue = RaspiRead(buttonPin);
      int reading3 = ToInt(buttonValue);

      // Output results
      WriteLine("Results:");
      WriteLine();
      WriteLine("Reading 1: " + reading1);
      WriteLine("Reading 2: " + reading2);
      WriteLine("Reading 3: " + reading3);

      // Count the button presses
      int count = reading1 + reading2 + reading3;

      // Clean up the GPIO system
      RaspiCleanup();
      ```

      </AccordionItem>
    </Accordion>

2. Finish off the program by adding the remaining outputs and testing that your terminal displays the expected output.

    ```txt {1-5, 20-22}
    Welcome to the button press counter!

    You will be prompted to read the value of the button pin 3 times.
    Press the button when prompted to increase the button counter.

    Button Press - Reading 1
    Press Enter to record the button reading: 

    Button Press - Reading 2
    Press Enter to record the button reading: 

    Button Press - Reading 3
    Press Enter to record the button reading: 

    Results:

    Reading 1: 1
    Reading 2: 0
    Reading 3: 1

    The button was pressed 2 times!
    â€‹
    ```

    <Accordion>
      <AccordionItem header="Final code">

      ```cs
      using SplashKitSDK;
      using static SplashKitSDK.SplashKit;

      // Initialise the GPIO system
      RaspiInit();

      // Define the button pin (using physical Pin 13)
      GpioPin buttonPin = GpioPin.Pin13;

      // Set the button pin to input mode
      RaspiSetMode(buttonPin, GpioPinMode.GpioInput);

      // Set the button pin to use an internal pull-down resistor
      RaspiSetPullUpDown(buttonPin, PullUpDown.PudDown);

      // Define variable for reading button value
      GpioPinValue buttonValue;

      WriteLine("Welcome to the button press counter!");
      WriteLine();
      WriteLine("You will be prompted to read the value of the button pin 3 times.");
      WriteLine("Press the button when prompted to increase the button counter.");
      WriteLine();

      // First button reading
      WriteLine("Button Press - Reading 1:");
      WriteLine("Press Enter to record the button reading.");
      ReadLine();  // Wait for user to press Enter
      buttonValue = RaspiRead(buttonPin);
      int reading1 = ToInt(buttonValue);

      // Second button reading
      WriteLine("Button Press - Reading 2:");
      WriteLine("Press Enter to record the button reading.");
      ReadLine();  // Wait for user to press Enter
      buttonValue = RaspiRead(buttonPin);
      int reading2 = ToInt(buttonValue);

      // Third button reading
      WriteLine("Button Press - Reading 3:");
      WriteLine("Press Enter to record the button reading.");
      ReadLine();  // Wait for user to press Enter
      buttonValue = RaspiRead(buttonPin);
      int reading3 = ToInt(buttonValue);

      // Output results
      WriteLine("Results:");
      WriteLine();
      WriteLine("Reading 1: " + reading1);
      WriteLine("Reading 2: " + reading2);
      WriteLine("Reading 3: " + reading3);

      // Count the button presses
      int count = reading1 + reading2 + reading3;
      
      WriteLine();
      WriteLine("The button was pressed " + count + " times!");
      WriteLine();

      // Clean up the GPIO system
      RaspiCleanup();
      ```

      </AccordionItem>
    </Accordion>

When you have this working you should feel confident that you can start working with Raspberry Pi GPIO programs to record pin value inputs for calculations.
