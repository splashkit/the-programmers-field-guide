---
title: Step 2 - Initialise GPIO Pin
sidebar:
  label: "- Initialise GPIO Pin"
---

import { Accordion, AccordionItem } from "accessible-astro-components";

The first step when writing a program to communicate with the Raspberry Pi GPIO Pins is to initialise the GPIO system, and set up the GPIO pins that will be used.

1. To prepare the GPIO pins to be used, we need to initialise the GPIO system using SplashKit's [RaspiInit](https://splashkit.io/api/raspberry/#raspi-init) method. This method needs to be called before any other GPIO methods.

    <Accordion>
      <AccordionItem header="Code for initialising the GPIO system">

      ```cs {3-5}
      using SplashKitSDK;
      using static SplashKitSDK.SplashKit;

      // Initialise the GPIO system
      RaspiInit();
      ```

      </AccordionItem>
    </Accordion>

2. Next, you will need to set up the GPIO pin to use for reading the button inputs.

    - Create a variable for the "button pin" using SplashKit's [`GpioPin`](https://splashkit.io/api/types/#gpio-pin) data type, and assign it the value for pin 13 (which is `GpioPin.Pin13`).
    - To set the button pin to **input** mode, call the `RaspiSetMode` method and pass it the variable you created for the button pin and the value for *input mode* (which is `GpioPinMode.GpioInput`).
    - The last part of setting up the button pin is to ensure the button pin defaults to a digital low (0) value when the button is not pressed.

      You can do this by calling the `RaspiSetPullUpDown` method and passing it the button pin variable and the value to use an internally-connected pull-down resistor (which is `PullUpDown.PudDown`).

      :::note
      *Using SplashKit's `RaspiSetPullUpDown` method, with `PullUpDown.PudDown` as the second argument, is equivalent to connecting a 10kÎ© "pull-down" resistor between the button pin connected to GPIO pin 13 and a GND pin.*
      :::

    <Accordion>
      <AccordionItem header="Code for setting up the button pin">

      ```cs {7-14}
      using SplashKitSDK;
      using static SplashKitSDK.SplashKit;

      // Initialise the GPIO system
      RaspiInit();

      // Define the button pin (using physical Pin 13)
      GpioPin buttonPin = GpioPin.Pin13;

      // Set the button pin to input mode
      RaspiSetMode(buttonPin, GpioPinMode.GpioInput);

      // Set the button pin to use an internal pull-down resistor
      RaspiSetPullUpDown(buttonPin, PullUpDown.PudDown);
      ```

      </AccordionItem>
    </Accordion>

3. Before we get to reading the GPIO pin value for the button, it is important to ensure that the GPIO system is reset before exiting the program.

    At the end of your code, call `RaspiCleanup()` to clean up the GPIO memory. This method call should always be called at the end of your code when using the GPIO system.

    <Accordion>
      <AccordionItem header="Code for cleaning up the GPIO pins">

      ```cs {20-21}
      using SplashKitSDK;
      using static SplashKitSDK.SplashKit;

      // Initialise the GPIO system
      RaspiInit();

      // Define the button pin (using physical Pin 13)
      GpioPin buttonPin = GpioPin.Pin13;

      // Set the button pin to input mode
      RaspiSetMode(buttonPin, GpioPinMode.GpioInput);

      // Set the button pin to use an internal pull-down resistor
      RaspiSetPullUpDown(buttonPin, PullUpDown.PudDown);

      // 
      // Button reading code will go here...
      // 

      // Clean up the GPIO system
      RaspiCleanup();
      ```

      </AccordionItem>
    </Accordion>
